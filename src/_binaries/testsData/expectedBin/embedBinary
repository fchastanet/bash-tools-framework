#!/usr/bin/env bash

# Header

# convert md5 encoded back to target file
# prepend dir of target file to PATH to make
# binary available everywhere
# @params {string} targetFile $1 the file to write
# it is advised to include in the path of the target file
# the md5sum of the binFile
# @params {string} binFileMd5 $2 the md5 encoded file
Embed::extractFileFromBase64() {
  local targetFile="$1"
  local binFileMd5="$2"

  if [[ ! -f "${targetFile}" ]]; then
    mkdir -p "$(dirname "${targetFile}")"
    base64 -d >"${targetFile}" <<<"${binFileMd5}"
    chmod +x "${targetFile}"
  fi

  Env::pathPrepend "$(dirname "${targetFile}")"
}

Env::pathPrepend() {
  local arg
  for arg in "$@"; do
    if [[ -d "${arg}" && ":${PATH}:" != *":${arg}:"* ]]; then
      PATH="$(realpath "${arg}"):${PATH}"
    fi
  done
}

# FUNCTIONS

Embed::extractFile_embedFile1() {
  if [[ ! -f "${PERSISTENT_TMPDIR:-/tmp}/bin/embedFile1" ]]; then
    mkdir -p "$(dirname "${PERSISTENT_TMPDIR:-/tmp}/bin/embedFile1")"
    base64 -d >"${PERSISTENT_TMPDIR:-/tmp}/bin/embedFile1" <<<"ZW1iZWRGaWxlMQo="
    chmod "644" "${PERSISTENT_TMPDIR:-/tmp}/bin/embedFile1"
  fi
}

Embed::extractFile_embedFile1

declare -gx embed_file_embedFile1="${PERSISTENT_TMPDIR:-/tmp}/bin/embedFile1"
Embed::extractDir_embedDir() {
  if [[ ! -d "${TMPDIR:-/tmp}/embedDir" ]]; then
    mkdir -p "${TMPDIR:-/tmp}/embedDir"
    (
      cd "${TMPDIR:-/tmp}/embedDir" || exit 1
      tar -xzf <(base64 -d <<<"H4sIAAAAAAAAA+3TTQrCMBCG4Vl7ipygzbT5uYH3UOxCqBureH1TxDYbFRexFN9nM5AEMvDxVbUUZ5Po/Tg1epvPJ1Hngvq2sW1I59FpK8aXX03kOlx2Z2PkNvRv3326X6mq7k777rA99l1T6o8x4ODc6/xT2FP+Lp2rNkHF2FIL5f48/zn9zdKrYAFZ/7XUH9/1Pzz6H+j/L8zp038AAAAAAAAAAAAAANbqDgZhWmMAKAAA")
    ) || return 1
  fi
}

Embed::extractDir_embedDir

declare -gx embed_dir_embedDir="${TMPDIR:-/tmp}/embedDir"
declare -gx embed_function_EmbedUIDisplayLine="${PERSISTENT_TMPDIR:-/tmp}/bin/a0f63865058c7b5f3c15101b04c0aef6/embedUIDisplayLine"
declare -gx encoded_binary_file_EmbedUIDisplayLine="IyEvdXNyL2Jpbi9lbnYgYmFzaAoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIEdFTkVSQVRFRCBGSUxFIEZST00gaHR0cHM6Ly9naXRodWIuY29tL2ZjaGFzdGFuZXQvYmFzaC10b29scy1mcmFtZXdvcmsvdHJlZS9tYXN0ZXIvc3JjL0VtYmVkL2VtYmVkRnJhbWV3b3JrRnVuY3Rpb24uYmluRmlsZS50cGwKIyBETyBOT1QgRURJVCBJVAojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgojIHNoZWxsY2hlY2sgZGlzYWJsZT1TQzIwMzQKU0NSSVBUX05BTUU9JHswIyMqL30KUkVBTF9TQ1JJUFRfRklMRT0iJChyZWFkbGluayAtZSAiJChyZWFscGF0aCAiJHtCQVNIX1NPVVJDRVswXX0iKSIpIgojIHNoZWxsY2hlY2sgZGlzYWJsZT1TQzIwMzQKQ1VSUkVOVF9ESVI9IiQoY2QgIiQocmVhZGxpbmsgLWUgIiR7UkVBTF9TQ1JJUFRfRklMRSUvKn0iKSIgJiYgcHdkIC1QKSIKQklOX0RJUj0iJHtDVVJSRU5UX0RJUn0iCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyBUZW1wIGRpciBtYW5hZ2VtZW50CiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKS0VFUF9URU1QX0ZJTEVTPSIke0tFRVBfVEVNUF9GSUxFUzotMH0iCmV4cG9ydCBLRUVQX1RFTVBfRklMRVMKCiMgUEVSU0lTVEVOVF9UTVBESVIgaXMgbm90IGRlbGV0ZWQgYnkgdHJhcHMKUEVSU0lTVEVOVF9UTVBESVI9IiR7VE1QRElSOi0vdG1wfS9iYXNoLWZyYW1ld29yayIKZXhwb3J0IFBFUlNJU1RFTlRfVE1QRElSCm1rZGlyIC1wICIke1BFUlNJU1RFTlRfVE1QRElSfSIKCiMgc2hlbGxjaGVjayBkaXNhYmxlPVNDMjAzNApUTVBESVI9IiQobWt0ZW1wIC1kIC1wICIke1BFUlNJU1RFTlRfVE1QRElSOi0vdG1wfSIgLXQgYmFzaC1mcmFtZXdvcmstJCQtWFhYWFhYKSIKZXhwb3J0IFRNUERJUgoKIyB0ZW1wIGRpciBjbGVhbmluZwpjbGVhbk9uRXhpdCgpIHsKICBpZiBbWyAiJHtLRUVQX1RFTVBfRklMRVM6LTB9IiA9ICIxIiBdXTsgdGhlbgogICAgTG9nOjpkaXNwbGF5SW5mbyAiS0VFUF9URU1QX0ZJTEVTPTEgdGVtcCBmaWxlcyBrZXB0IGhlcmUgJyR7VE1QRElSfSciCiAgZWxpZiBbWyAtbiAiJHtUTVBESVIreHh4fSIgXV07IHRoZW4KICAgIExvZzo6ZGlzcGxheUluZm8gIktFRVBfVEVNUF9GSUxFUz0wIHJlbW92aW5nIHRlbXAgZmlsZXMgJyR7VE1QRElSfSciCiAgICBybSAtUmYgIiR7VE1QRElSOi0vdG1wL2Zha2V9IiA+L2Rldi9udWxsIDI+JjEKICBmaQp9CnRyYXAgY2xlYW5PbkV4aXQgRVhJVCBIVVAgUVVJVCBBQlJUIFRFUk0KCiMgQHNlZSBodHRwczovL3VuaXguc3RhY2tleGNoYW5nZS5jb20vYS8zODY4NTYKaW50ZXJydXB0TWFuYWdlbWVudCgpIHsKICAjIHJlc3RvcmUgU0lHSU5UIGhhbmRsZXIKICB0cmFwIC0gSU5UCiAgIyBlbnN1cmUgdGhhdCBDdHJsLUMgaXMgdHJhcHBlZCBieSB0aGlzIHNjcmlwdCBhbmQgbm90IGJ5IHN1YiBwcm9jZXNzCiAgIyByZXBvcnQgdG8gdGhlIHBhcmVudCB0aGF0IHdlIGhhdmUgaW5kZWVkIGJlZW4gaW50ZXJydXB0ZWQKICBraWxsIC1zIElOVCAiJCQiCn0KdHJhcCBpbnRlcnJ1cHRNYW5hZ2VtZW50IElOVAoKIyBzaGVsbGNoZWNrIGRpc2FibGU9U0MyMDM0CigoZmFpbHVyZXMgPSAwKSkgfHwgdHJ1ZQoKc2hvcHQgLXMgZXhwYW5kX2FsaWFzZXMKCiMgQmFzaCB3aWxsIHJlbWVtYmVyICYgcmV0dXJuIHRoZSBoaWdoZXN0IGV4aXQgY29kZSBpbiBhIGNoYWluIG9mIHBpcGVzLgojIFRoaXMgd2F5IHlvdSBjYW4gY2F0Y2ggdGhlIGVycm9yIGluc2lkZSBwaXBlcywgZS5nLiBteXNxbGR1bXAgfCBnemlwCnNldCAtbyBwaXBlZmFpbApzZXQgLW8gZXJyZXhpdAoKIyBhIGxvZyBpcyBnZW5lcmF0ZWQgd2hlbiBhIGNvbW1hbmQgZmFpbHMKc2V0IC1vIGVycnRyYWNlCgojIHVzZSBudWxsZ2xvYiBzbyB0aGF0IChmaWxlKi5waHApIHdpbGwgcmV0dXJuIGFuIGVtcHR5IGFycmF5IGlmIG5vIGZpbGUgbWF0Y2hlcyB0aGUgd2lsZGNhcmQKc2hvcHQgLXMgbnVsbGdsb2IKCiMgZW5zdXJlIHJlZ2V4cCBhcmUgaW50ZXJwcmV0ZWQgd2l0aG91dCBhY2NlbnR1YXRlZCBjaGFyYWN0ZXJzCmV4cG9ydCBMQ19BTEw9UE9TSVgKCmV4cG9ydCBURVJNPXh0ZXJtLTI1NmNvbG9yCgojYXZvaWQgaW50ZXJhY3RpdmUgaW5zdGFsbApleHBvcnQgREVCSUFOX0ZST05URU5EPW5vbmludGVyYWN0aXZlCmV4cG9ydCBERUJDT05GX05PTklOVEVSQUNUSVZFX1NFRU49dHJ1ZQoKRW52OjpwYXRoUHJlcGVuZCgpIHsKICBsb2NhbCBhcmcKICBmb3IgYXJnIGluICIkQCI7IGRvCiAgICBpZiBbWyAtZCAiJHthcmd9IiAmJiAiOiR7UEFUSH06IiAhPSAqIjoke2FyZ306IiogXV07IHRoZW4KICAgICAgUEFUSD0iJChyZWFscGF0aCAiJHthcmd9Iik6JHtQQVRIfSIKICAgIGZpCiAgZG9uZQp9CgojIFB1YmxpYzogbG9nIGxldmVsIG9mZgpleHBvcnQgX19MRVZFTF9PRkY9MAojIFB1YmxpYzogbG9nIGxldmVsIGVycm9yCmV4cG9ydCBfX0xFVkVMX0VSUk9SPTEKIyBQdWJsaWM6IGxvZyBsZXZlbCB3YXJuaW5nCmV4cG9ydCBfX0xFVkVMX1dBUk5JTkc9MgojIFB1YmxpYzogbG9nIGxldmVsIGluZm8KZXhwb3J0IF9fTEVWRUxfSU5GTz0zCiMgUHVibGljOiBsb2cgbGV2ZWwgc3VjY2VzcwpleHBvcnQgX19MRVZFTF9TVUNDRVNTPTMKIyBQdWJsaWM6IGxvZyBsZXZlbCBkZWJ1ZwpleHBvcnQgX19MRVZFTF9ERUJVRz00CgpleHBvcnQgX19MRVZFTF9PRkYKZXhwb3J0IF9fTEVWRUxfRVJST1IKZXhwb3J0IF9fTEVWRUxfV0FSTklORwpleHBvcnQgX19MRVZFTF9JTkZPCmV4cG9ydCBfX0xFVkVMX1NVQ0NFU1MKZXhwb3J0IF9fTEVWRUxfREVCVUcKCiMgRGlzcGxheSBtZXNzYWdlIHVzaW5nIGluZm8gY29sb3IgKGJnIGxpZ2h0IGJsdWUvZmcgd2hpdGUpCiMgQHBhcmFtIHtTdHJpbmd9ICQxIG1lc3NhZ2UKTG9nOjpkaXNwbGF5SW5mbygpIHsKICBlY2hvIC1lICIke19fSU5GT19DT0xPUn1JTkZPICAgIC0gJHsxfSR7X19SRVNFVF9DT0xPUn0iID4mMgogIExvZzo6bG9nSW5mbyAiJDEiCn0KClVJOjpkaXNwbGF5TGluZSgpIHsKICBsb2NhbCByZXBlYXRDaGFyPSIkMSIKICBsb2NhbCBsZW5ndGg9IiQyIgogIGhlYWQgLWMgIiR7bGVuZ3RofSIgPCAvZGV2L3plcm8gfCB0ciAnXDAnICIke3JlcGVhdENoYXJ9IgogIGVjaG8KfQoKIyBsYXp5IGluaXRpYWxpemF0aW9uCmRlY2xhcmUgLWcgQkFTSF9GUkFNRVdPUktfSU5JVElBTElaRUQ9IjAiCmRlY2xhcmUgLWcgQkFTSF9GUkFNRVdPUktfQ0FDSEVEX0VOVl9GSUxFCmRlY2xhcmUgLWcgQkFTSF9GUkFNRVdPUktfREVGQVVMVF9FTlZfRklMRQoKIyBsb2FkIHZhcmlhYmxlcyBpbiBvcmRlcihmcm9tIGxlc3Mgc3BlY2lmaWMgdG8gbW9yZSBzcGVjaWZpYykgZnJvbSA6CiMgLSAke1JPT1RfRElSfS9zcmMvRW52L3Rlc3RzRGF0YS8uZW52IGZpbGUKIyAtICR7Uk9PVF9ESVJ9L2NvbmYvLmVudiBmaWxlIGlmIGV4aXN0cwojIC0gfi8uZW52IGZpbGUgaWYgZXhpc3RzCiMgLSB+Ly5iYXNoLXRvb2xzLy5lbnYgZmlsZSBpZiBleGlzdHMKIyAtIEJBU0hfRlJBTUVXT1JLX0VOVl9GSUxFUEFUSD08ZnVsbFBhdGhUb0VudkZpbGUgb3IgZW1wdHkgaWYgbm8gZmlsZSB0byBiZSBsb2FkZWQ+CkVudjo6bG9hZCgpIHsKICBpZiBbWyAiJHtCQVNIX0ZSQU1FV09SS19JTklUSUFMSVpFRH0iID0gIjEiIF1dOyB0aGVuCiAgICByZXR1cm4gMAogIGZpCiAgQkFTSF9GUkFNRVdPUktfQ0FDSEVEX0VOVl9GSUxFPSIkKG1rdGVtcCAtcCAiJHtUTVBESVI6LS90bXB9IiAtdCAiZW52X3ZhcnMuWFhYWFhYWCIpIgogIEJBU0hfRlJBTUVXT1JLX0RFRkFVTFRfRU5WX0ZJTEU9IiQobWt0ZW1wIC1wICIke1RNUERJUjotL3RtcH0iIC10ICJkZWZhdWx0X2Vudl9maWxlLlhYWFhYWFgiKSIKICAjIHNoZWxsY2hlY2sgc291cmNlPXNyYy9FbnYvdGVzdHNEYXRhLy5lbnYKICAoCiAgICBlY2hvICJCQVNIX0ZSQU1FV09SS19MT0dfTEVWRUw9JHtCQVNIX0ZSQU1FV09SS19MT0dfTEVWRUw6LTB9IgogICAgZWNobyAiQkFTSF9GUkFNRVdPUktfRElTUExBWV9MRVZFTD0ke0JBU0hfRlJBTUVXT1JLX0RJU1BMQVlfTEVWRUw6LTN9IgogICAgZWNobyAiQkFTSF9GUkFNRVdPUktfTE9HX0ZJTEU9JHtCQVNIX0ZSQU1FV09SS19MT0dfRklMRTotJHtST09UX0RJUn0vbG9ncy8ke1NDUklQVF9OQU1FfS5sb2d9IgogICAgZWNobyAiQkFTSF9GUkFNRVdPUktfTE9HX0ZJTEVfTUFYX1JPVEFUSU9OPSR7QkFTSF9GUkFNRVdPUktfTE9HX0ZJTEVfTUFYX1JPVEFUSU9OOi01fSIKICApID4iJHtCQVNIX0ZSQU1FV09SS19ERUZBVUxUX0VOVl9GSUxFfSIKCiAgKAogICAgIyByZXNldCB0ZW1wIGZpbGUKICAgIGVjaG8gPiIke0JBU0hfRlJBTUVXT1JLX0NBQ0hFRF9FTlZfRklMRX0iCgogICAgIyBsaXN0IC5lbnYgZmlsZXMgdGhhdCBuZWVkIHRvIGJlIGxvYWRlZAogICAgbG9jYWwgLWEgZmlsZXM9KCkKICAgIGlmIFtbIC1mICIke0JBU0hfRlJBTUVXT1JLX0RFRkFVTFRfRU5WX0ZJTEV9IiBdXTsgdGhlbgogICAgICBmaWxlcys9KCIke0JBU0hfRlJBTUVXT1JLX0RFRkFVTFRfRU5WX0ZJTEV9IikKICAgIGZpCiAgICBpZiBbWyAtZiAiJHtST09UX0RJUn0vY29uZi8uZW52IiAmJiAtciAiJHtST09UX0RJUn0vY29uZi8uZW52IiBdXTsgdGhlbgogICAgICBmaWxlcys9KCIke1JPT1RfRElSfS9jb25mLy5lbnYiKQogICAgZmkKICAgIGlmIFtbIC1mICIke0hPTUV9Ly5lbnYiICYmIC1yICIke0hPTUV9Ly5lbnYiIF1dOyB0aGVuCiAgICAgIGZpbGVzKz0oIiR7SE9NRX0vLmVudiIpCiAgICBmaQogICAgbG9jYWwgZmlsZQogICAgZm9yIGZpbGUgaW4gIiRAIjsgZG8KICAgICAgaWYgW1sgLWYgIiR7ZmlsZX0iICYmIC1yICIke2ZpbGV9IiBdXTsgdGhlbgogICAgICAgIGZpbGVzKz0oIiR7ZmlsZX0iKQogICAgICBmaQogICAgZG9uZQogICAgIyBpbXBvcnQgY3VzdG9tIC5lbnYgZmlsZQogICAgaWYgW1sgLW4gIiR7QkFTSF9GUkFNRVdPUktfRU5WX0ZJTEVQQVRIK3h4eH0iIF1dOyB0aGVuCiAgICAgICMgbG9hZCBCQVNIX0ZSQU1FV09SS19FTlZfRklMRVBBVEgKICAgICAgaWYgW1sgLWYgIiR7QkFTSF9GUkFNRVdPUktfRU5WX0ZJTEVQQVRIfSIgJiYgLXIgIiR7QkFTSF9GUkFNRVdPUktfRU5WX0ZJTEVQQVRIfSIgXV07IHRoZW4KICAgICAgICBmaWxlcys9KCIke0JBU0hfRlJBTUVXT1JLX0VOVl9GSUxFUEFUSH0iKQogICAgICBlbHNlCiAgICAgICAgTG9nOjpkaXNwbGF5V2FybmluZyAiZW52IGZpbGUgbm90IG5vdCBmb3VuZCAtICR7QkFTSF9GUkFNRVdPUktfRU5WX0ZJTEVQQVRIfSIKICAgICAgZmkKICAgIGZpCgogICAgIyBhZGQgYWxsIGZpbGVzIGFkZGVkIGFzIHBhcmFtZXRlcnMKICAgIGZpbGVzKz0oIiRAIikKCiAgICAjIHNvdXJjZSBlYWNoIGZpbGUgaW4gb3JkZXIKICAgIGxvY2FsIGZpbGUKICAgIGZvciBmaWxlIGluICIke2ZpbGVzW0BdfSI7IGRvCiAgICAgICMgc2hlbGxjaGVjayBzb3VyY2U9c3JjL0Vudi90ZXN0c0RhdGEvLmVudgogICAgICBzb3VyY2UgIiR7ZmlsZX0iIHx8IHsKICAgICAgICBMb2c6OmRpc3BsYXlXYXJuaW5nICJDYW5ub3QgbG9hZCAnJHtmaWxlfSciCiAgICAgIH0KICAgIGRvbmUKCiAgICAjIGNvcHkgb25seSB0aGUgdmFyaWFibGVzIHRvIHRoZSB0bXAgZmlsZQogICAgbG9jYWwgdmFyTmFtZSBvdmVycmlkZVZhck5hbWUKICAgIHdoaWxlIElGUz0kJ1xuJyByZWFkIC1yIHZhck5hbWU7IGRvCiAgICAgIG92ZXJyaWRlVmFyTmFtZT0iT1ZFUlJJREVfJHt2YXJOYW1lfSIKICAgICAgaWYgW1sgLXogJHshb3ZlcnJpZGVWYXJOYW1lK3h4eH0gXV07IHRoZW4KICAgICAgICBlY2hvICIke3Zhck5hbWV9PSckeyF2YXJOYW1lfSciID4+IiR7QkFTSF9GUkFNRVdPUktfQ0FDSEVEX0VOVl9GSUxFfSIKICAgICAgZWxzZQogICAgICAgICMgdmFyaWFibGUgaXMgb3ZlcnJpZGRlbgogICAgICAgIGVjaG8gIiR7dmFyTmFtZX09JyR7IW92ZXJyaWRlVmFyTmFtZX0nIiA+PiIke0JBU0hfRlJBTUVXT1JLX0NBQ0hFRF9FTlZfRklMRX0iCiAgICAgIGZpCgogICAgICAjIHVzaW5nIGF3ayBkZWR1Y2UgYWxsIHZhcmlhYmxlcyB0aGF0IG5lZWQgdG8gYmUgY29waWVkIGluIHRtcCBmaWxlCiAgICAgICMgICBmcm9tIGxlc3Mgc3BlY2lmaWMgZmlsZSB0byB0aGUgbW9zdAogICAgZG9uZSA8IDwoYXdrIC1GPSAnIWFbJDFdKysnICIke2ZpbGVzW0BdfSIgfCBncmVwIC12ICdeJFx8XlxzKlwjJyB8IGN1dCAtZD0gLWYxKQogICkgfHwgZXhpdCAxCgogICMgZW5zdXJlIGFsbCBzb3VyY2VkIHZhcmlhYmxlcyB3aWxsIGJlIGV4cG9ydGVkCiAgc2V0IC1vIGFsbGV4cG9ydAoKICAjIEZpbmFsbHkgbG9hZCB0aGUgdGVtcCBmaWxlIHRvIG1ha2UgdGhlIHZhcmlhYmxlcyBhdmFpbGFibGUgaW4gY3VycmVudCBzY3JpcHQKICAjIHNoZWxsY2hlY2sgc291cmNlPXNyYy9FbnYvdGVzdHNEYXRhLy5lbnYKICBzb3VyY2UgIiR7QkFTSF9GUkFNRVdPUktfQ0FDSEVEX0VOVl9GSUxFfSIKCiAgZXhwb3J0IEJBU0hfRlJBTUVXT1JLX0lOSVRJQUxJWkVEPTEKCiAgc2V0ICtvIGFsbGV4cG9ydAp9CgojIERpc3BsYXkgbWVzc2FnZSB1c2luZyBkZWJ1ZyBjb2xvciAoZ3JleSkKIyBAcGFyYW0ge1N0cmluZ30gJDEgbWVzc2FnZQpMb2c6OmRpc3BsYXlEZWJ1ZygpIHsKICBlY2hvIC1lICIke19fREVCVUdfQ09MT1J9REVCVUcgICAtICR7MX0ke19fUkVTRVRfQ09MT1J9IiA+JjIKICBMb2c6OmxvZ0RlYnVnICIkMSIKfQoKIyBEaXNwbGF5IG1lc3NhZ2UgdXNpbmcgZXJyb3IgY29sb3IgKHJlZCkKIyBAcGFyYW0ge1N0cmluZ30gJDEgbWVzc2FnZQpMb2c6OmRpc3BsYXlFcnJvcigpIHsKICBlY2hvIC1lICIke19fRVJST1JfQ09MT1J9RVJST1IgICAtICR7MX0ke19fUkVTRVRfQ09MT1J9IiA+JjIKICBMb2c6OmxvZ0Vycm9yICIkMSIKfQoKIyBEaXNwbGF5IG1lc3NhZ2UgdXNpbmcgaW5mbyBjb2xvciAoYmcgbGlnaHQgYmx1ZS9mZyB3aGl0ZSkKIyBAcGFyYW0ge1N0cmluZ30gJDEgbWVzc2FnZQpMb2c6OmRpc3BsYXlIZWxwKCkgewogIGVjaG8gLWUgIiR7X19IRUxQX0NPTE9SfUhFTFAgICAgLSAkezF9JHtfX1JFU0VUX0NPTE9SfSIgPiYyCiAgTG9nOjpsb2dIZWxwICIkMSIKfQoKIyBEaXNwbGF5IG1lc3NhZ2UgdXNpbmcgc2tpcCBjb2xvciAoeWVsbG93KQojIEBwYXJhbSB7U3RyaW5nfSAkMSBtZXNzYWdlCkxvZzo6ZGlzcGxheVNraXBwZWQoKSB7CiAgZWNobyAtZSAiJHtfX1NLSVBQRURfQ09MT1J9U0tJUFBFRCAtICR7MX0ke19fUkVTRVRfQ09MT1J9IiA+JjIKICBMb2c6OmxvZ1NraXBwZWQgIiQxIgp9CgojIERpc3BsYXkgbWVzc2FnZSB1c2luZyBzdWNjZXNzIGNvbG9yIChiZyBncmVlbi9mZyB3aGl0ZSkKIyBAcGFyYW0ge1N0cmluZ30gJDEgbWVzc2FnZQpMb2c6OmRpc3BsYXlTdWNjZXNzKCkgewogIGVjaG8gLWUgIiR7X19TVUNDRVNTX0NPTE9SfVNVQ0NFU1MgLSAkezF9JHtfX1JFU0VUX0NPTE9SfSIgPiYyCiAgTG9nOjpsb2dTdWNjZXNzICIkMSIKfQoKIyBEaXNwbGF5IG1lc3NhZ2UgdXNpbmcgd2FybmluZyBjb2xvciAoeWVsbG93KQojIEBwYXJhbSB7U3RyaW5nfSAkMSBtZXNzYWdlCkxvZzo6ZGlzcGxheVdhcm5pbmcoKSB7CiAgZWNobyAtZSAiJHtfX1dBUk5JTkdfQ09MT1J9V0FSTiAgICAtICR7MX0ke19fUkVTRVRfQ09MT1J9IiA+JjIKICBMb2c6OmxvZ1dhcm5pbmcgIiQxIgp9CgojIGxvZyBtZXNzYWdlIHRvIGZpbGUKIyBAcGFyYW0ge1N0cmluZ30gJDEgbWVzc2FnZQpMb2c6OmxvZ0RlYnVnKCkgewogIExvZzo6bG9nTWVzc2FnZSAiREVCVUciICIkQCIKfQoKIyBsb2cgbWVzc2FnZSB0byBmaWxlCiMgQHBhcmFtIHtTdHJpbmd9ICQxIG1lc3NhZ2UKTG9nOjpsb2dFcnJvcigpIHsKICBMb2c6OmxvZ01lc3NhZ2UgIkVSUk9SIiAiJEAiCn0KCiMgbG9nIG1lc3NhZ2UgdG8gZmlsZQojIEBwYXJhbSB7U3RyaW5nfSAkMSBtZXNzYWdlCkxvZzo6bG9nSGVscCgpIHsKICBMb2c6OmxvZ01lc3NhZ2UgIkhFTFAiICIkQCIKfQoKIyBsb2cgbWVzc2FnZSB0byBmaWxlCiMgQHBhcmFtIHtTdHJpbmd9ICQxIG1lc3NhZ2UKTG9nOjpsb2dJbmZvKCkgewogIExvZzo6bG9nTWVzc2FnZSAiSU5GTyIgIiRAIgp9CgojIGxvZyBtZXNzYWdlIHRvIGZpbGUKIyBAcGFyYW0ge1N0cmluZ30gJDEgbWVzc2FnZQpMb2c6OmxvZ1NraXBwZWQoKSB7CiAgTG9nOjpsb2dNZXNzYWdlICJTS0lQUEVEIiAiJEAiCn0KCiMgbG9nIG1lc3NhZ2UgdG8gZmlsZQojIEBwYXJhbSB7U3RyaW5nfSAkMSBtZXNzYWdlCkxvZzo6bG9nU3VjY2VzcygpIHsKICBMb2c6OmxvZ01lc3NhZ2UgIlNVQ0NFU1MiICIkQCIKfQoKIyBsb2cgbWVzc2FnZSB0byBmaWxlCiMgQHBhcmFtIHtTdHJpbmd9ICQxIG1lc3NhZ2UKTG9nOjpsb2dXYXJuaW5nKCkgewogIExvZzo6bG9nTWVzc2FnZSAiV0FSTklORyIgIiRAIgp9CgojIFRvIGJlIGNhbGxlZCBiZWZvcmUgbG9nZ2luZyBpbiB0aGUgbG9nIGZpbGUKIyBAcGFyYW0ge3N0cmluZ30gZmlsZSAkMSBsb2cgZmlsZSBuYW1lCiMgQHBhcmFtIHtpbnR9IG1heExvZ0ZpbGVzQ291bnQgJDIgbWF4aW11bSBudW1iZXIgb2YgbG9nIGZpbGVzCkxvZzo6cm90YXRlKCkgewogIGxvY2FsIGZpbGU9IiQxIgogIGxvY2FsIG1heExvZ0ZpbGVzQ291bnQ9IiR7MjotNX0iCgogIGlmIFtbICEgLWYgIiR7ZmlsZX0iIF1dOyB0aGVuCiAgICBMb2c6OmRpc3BsYXlTa2lwcGVkICJMb2cgZmlsZSAke2ZpbGV9IGRvZXNuJ3QgZXhpc3QgeWV0IgogICAgcmV0dXJuIDAKICBmaQogIGZvciBpIGluICQoc2VxICQoKG1heExvZ0ZpbGVzQ291bnQgLSAxKSkgLTEgMSk7IGRvCiAgICBMb2c6OmRpc3BsYXlJbmZvICJMb2cgcm90YXRpb24gJHtmaWxlfS4ke2l9IHRvICR7ZmlsZX0uJCgoaSArIDEpKSIKICAgIG12ICIke2ZpbGV9LiJ7IiR7aX0iLCIkKChpICsgMSkpIn0gJj4vZGV2L251bGwgfHwgdHJ1ZQogIGRvbmUKICBpZiBjcCAiJHtmaWxlfSIgIiR7ZmlsZX0uMSIgJj4vZGV2L251bGw7IHRoZW4KICAgIGVjaG8gPiIke2ZpbGV9IiAjIHJlc2V0IGxvZyBmaWxlCiAgICBMb2c6OmRpc3BsYXlJbmZvICJMb2cgcm90YXRpb24gJHtmaWxlfSB0byAke2ZpbGV9LjEiCiAgZmkKfQoKIyBJbnRlcm5hbDogY29tbW9uIGxvZyBtZXNzYWdlCiMKIyAqKkFyZ3VtZW50cyoqOgojICogJDEgLSBtZXNzYWdlJ3MgbGV2ZWwgZGVzY3JpcHRpb24KIyAqICQyIC0gbWVzc2FnZQojICoqT3V0cHV0Kio6CiMgW2RhdGVdfFtsZXZlbE1zZ118bWVzc2FnZQojCiMgKipFeGFtcGxlcyoqOgojIDxwcmU+CiMgMjAyMC0wMS0xOSAxOToyMDoyMXxFUlJPUiAgfGxvZyBlcnJvcgojIDIwMjAtMDEtMTkgMTk6MjA6MjF8U0tJUFBFRHxsb2cgc2tpcHBlZAojIDwvcHJlPgpMb2c6OmxvZ01lc3NhZ2UoKSB7CiAgbG9jYWwgbGV2ZWxNc2c9IiQxIgogIGxvY2FsIG1zZz0iJDIiCiAgbG9jYWwgZGF0ZQoKICBpZiBbWyAteiAiJHtCQVNIX0ZSQU1FV09SS19MT0dfRklMRX0iIF1dOyB0aGVuCiAgICByZXR1cm4gMAogIGZpCiAgaWYgKChCQVNIX0ZSQU1FV09SS19MT0dfTEVWRUwgPiBfX0xFVkVMX09GRikpIHx8IFtbICIke2xldmVsTXNnfSIgPSAiRkFUQUwiIF1dOyB0aGVuCiAgICBpZiBBc3NlcnQ6OmZpbGVXcml0YWJsZSAiJHtCQVNIX0ZSQU1FV09SS19MT0dfRklMRX0iOyB0aGVuCiAgICAgIGRhdGU9IiQoZGF0ZSAnKyVZLSVtLSVkICVIOiVNOiVTJykiCiAgICAgIHRvdWNoICIke0JBU0hfRlJBTUVXT1JLX0xPR19GSUxFfSIKICAgICAgcHJpbnRmICIlc3wlN3N8JXNcbiIgIiR7ZGF0ZX0iICIke2xldmVsTXNnfSIgIiR7bXNnfSIgPj4iJHtCQVNIX0ZSQU1FV09SS19MT0dfRklMRX0iCiAgICBlbHNlCiAgICAgIGVjaG8gLWUgIiR7X19FUlJPUl9DT0xPUn1FUlJPUiAgIC0gRmlsZSAke0JBU0hfRlJBTUVXT1JLX0xPR19GSUxFfSBpcyBub3Qgd3JpdGFibGUke19fUkVTRVRfQ09MT1J9IiA+JjIKICAgIGZpCiAgZmkKfQoKIyBDaGVja3MgaWYgZmlsZSBjYW4gYmUgY3JlYXRlZCBpbiBmb2xkZXIKIyBUaGUgZmlsZSBkb2VzIG5vdCBuZWVkIHRvIGV4aXN0CkFzc2VydDo6ZmlsZVdyaXRhYmxlKCkgewogIGxvY2FsIGZpbGU9IiQxIgogIGxvY2FsIGRpcgoKICBkaXI9IiQoZGlybmFtZSAiJHtmaWxlfSIpIgoKICBBc3NlcnQ6OnZhbGlkUGF0aCAiJHtmaWxlfSIgJiYgW1sgLXcgIiR7ZGlyfSIgXV0KfQoKIyBQdWJsaWM6IGNoZWNrIGlmIGFyZ3VtZW50IGlzIGEgdmFsaWQgbGludXggcGF0aAojCiMgQHBhcmFtIHtzdHJpbmd9IHBhdGggJDEgcGF0aCB0aGF0IG5lZWRzIHRvIGJlIGNoZWNrZWQKIyBAcmV0dXJuIDEgaWYgcGF0aCBpcyBpbnZhbGlkCiMgaW52YWxpZCBwYXRoIGFyZSB0aG9zZSB3aXRoOgojIC0gaW52YWxpZCBjaGFyYWN0ZXJzCiMgLSBjb21wb25lbnQgYmVnaW5uaW5nIGJ5IGEgLSAoYmVjYXVzZSBvcHRpb24pCiMgLSBub3QgYmVnaW5uaW5nIHdpdGggYSBzbGFzaAojIC0gcmVsYXRpdmUKQXNzZXJ0Ojp2YWxpZFBhdGgoKSB7CiAgbG9jYWwgcGF0aD0iJDEiCgogICMgaHR0cHM6Ly9yZWdleDEwMS5jb20vci9hZkxybU0vMgogIFtbICIke3BhdGh9IiA9fiBeXC8kfF4oXC9bLmEtekEtWl8wLTldWy5hLXpBLVpfMC05LV0qKSskIF1dICYmCiAgICBbWyAhICIke3BhdGh9IiA9fiAoXC9cLlwuKXwoXC5cLlwvKXxeXC4kfF5cLlwuJCBdXSAjIGF2b2lkIHJlbGF0aXZlCn0KCiMgRlVOQ1RJT05TCgpFbnY6OmxvYWQKCiMgZGlzYWJsZSBkaXNwbGF5IG1ldGhvZHMgZm9sbG93aW5nIGRpc3BsYXkgbGV2ZWwKaWYgKChCQVNIX0ZSQU1FV09SS19ESVNQTEFZX0xFVkVMIDwgX19MRVZFTF9ERUJVRykpOyB0aGVuCiAgTG9nOjpkaXNwbGF5RGVidWcoKSB7IDo7IH0KZmkKaWYgKChCQVNIX0ZSQU1FV09SS19ESVNQTEFZX0xFVkVMIDwgX19MRVZFTF9JTkZPKSk7IHRoZW4KICBMb2c6OmRpc3BsYXlIZWxwKCkgeyA6OyB9CiAgTG9nOjpkaXNwbGF5SW5mbygpIHsgOjsgfQogIExvZzo6ZGlzcGxheVNraXBwZWQoKSB7IDo7IH0KICBMb2c6OmRpc3BsYXlTdWNjZXNzKCkgeyA6OyB9CmZpCmlmICgoQkFTSF9GUkFNRVdPUktfRElTUExBWV9MRVZFTCA8IF9fTEVWRUxfV0FSTklORykpOyB0aGVuCiAgTG9nOjpkaXNwbGF5V2FybmluZygpIHsgOjsgfQpmaQppZiAoKEJBU0hfRlJBTUVXT1JLX0RJU1BMQVlfTEVWRUwgPCBfX0xFVkVMX0VSUk9SKSk7IHRoZW4KICBMb2c6OmRpc3BsYXlFcnJvcigpIHsgOjsgfQpmaQojIGRpc2FibGUgbG9nIG1ldGhvZHMgZm9sbG93aW5nIGxvZyBsZXZlbAppZiAoKEJBU0hfRlJBTUVXT1JLX0xPR19MRVZFTCA8IF9fTEVWRUxfREVCVUcpKTsgdGhlbgogIExvZzo6bG9nRGVidWcoKSB7IDo7IH0KZmkKaWYgKChCQVNIX0ZSQU1FV09SS19MT0dfTEVWRUwgPCBfX0xFVkVMX0lORk8pKTsgdGhlbgogIExvZzo6bG9nSGVscCgpIHsgOjsgfQogIExvZzo6bG9nSW5mbygpIHsgOjsgfQogIExvZzo6bG9nU2tpcHBlZCgpIHsgOjsgfQogIExvZzo6bG9nU3VjY2VzcygpIHsgOjsgfQpmaQppZiAoKEJBU0hfRlJBTUVXT1JLX0xPR19MRVZFTCA8IF9fTEVWRUxfV0FSTklORykpOyB0aGVuCiAgTG9nOjpsb2dXYXJuaW5nKCkgeyA6OyB9CmZpCmlmICgoQkFTSF9GUkFNRVdPUktfTE9HX0xFVkVMIDwgX19MRVZFTF9FUlJPUikpOyB0aGVuCiAgTG9nOjpsb2dFcnJvcigpIHsgOjsgfQpmaQoKaWYgKChCQVNIX0ZSQU1FV09SS19MT0dfTEVWRUwgPiBfX0xFVkVMX09GRikpOyB0aGVuCiAgaWYgW1sgLXogIiR7QkFTSF9GUkFNRVdPUktfTE9HX0ZJTEV9IiBdXTsgdGhlbgogICAgQkFTSF9GUkFNRVdPUktfTE9HX0xFVkVMPSR7X19MRVZFTF9PRkZ9CiAgICBleHBvcnQgQkFTSF9GUkFNRVdPUktfTE9HX0xFVkVMCiAgZWxpZiBbWyAhIC1mICIke0JBU0hfRlJBTUVXT1JLX0xPR19GSUxFfSIgXV07IHRoZW4KICAgIGlmICEgbWtkaXIgLXAgIiQoZGlybmFtZSAiJHtCQVNIX0ZSQU1FV09SS19MT0dfRklMRX0iKSIgMj4vZGV2L251bGw7IHRoZW4KICAgICAgQkFTSF9GUkFNRVdPUktfTE9HX0xFVkVMPV9fTEVWRUxfT0ZGCiAgICAgIExvZzo6ZGlzcGxheVdhcm5pbmcgIkxvZyBkaXIgY2Fubm90IGJlIGNyZWF0ZWQgJChkaXJuYW1lICIke0JBU0hfRlJBTUVXT1JLX0xPR19GSUxFfSIpIgogICAgZmkKICAgIGlmICEgdG91Y2ggLS1uby1jcmVhdGUgIiR7QkFTSF9GUkFNRVdPUktfTE9HX0ZJTEV9IiAyPi9kZXYvbnVsbDsgdGhlbgogICAgICBCQVNIX0ZSQU1FV09SS19MT0dfTEVWRUw9X19MRVZFTF9PRkYKICAgICAgTG9nOjpkaXNwbGF5V2FybmluZyAiTG9nIGZpbGUgJyR7QkFTSF9GUkFNRVdPUktfTE9HX0ZJTEV9JyBjYW5ub3QgYmUgY3JlYXRlZCIKICAgIGZpCiAgZmkKICBMb2c6OmRpc3BsYXlJbmZvICJMb2dnaW5nIHRvIGZpbGUgJHtCQVNIX0ZSQU1FV09SS19MT0dfRklMRX0iCiAgaWYgKChCQVNIX0ZSQU1FV09SS19MT0dfRklMRV9NQVhfUk9UQVRJT04gPiAwKSk7IHRoZW4KICAgIExvZzo6cm90YXRlICIke0JBU0hfRlJBTUVXT1JLX0xPR19GSUxFfSIgIiR7QkFTSF9GUkFNRVdPUktfTE9HX0ZJTEVfTUFYX1JPVEFUSU9OfSIKICBmaQpmaQoKRW52OjpwYXRoUHJlcGVuZCAiJHtCSU5fRElSfSIKCiMgcHJlcGFyZSBiaW4gZGlyZWN0b3J5IGZvciBldmVudHVhbCBiaW4gZmlsZXMgZ2VuZXJhdGVkIGJ5IEVtYmVkOjplbWJlZApta2RpciAtcCAiJHtUTVBESVI6LS90bXB9L2JpbiIKRW52OjpwYXRoUHJlcGVuZCAiJHtUTVBESVI6LS90bXB9L2JpbiIKCmlmIFtbIC10IDEgfHwgLXQgMiBdXTsgdGhlbgogICMgY2hlY2sgY29sb3JzIGFwcGxpY2FibGUgaHR0cHM6Ly9taXNjLmZsb2dpc29mdC5jb20vYmFzaC90aXBfY29sb3JzX2FuZF9mb3JtYXR0aW5nCiAgcmVhZG9ubHkgX19FUlJPUl9DT0xPUj0nXGVbMzFtJyAgICAgICMgUmVkCiAgcmVhZG9ubHkgX19JTkZPX0NPTE9SPSdcZVs0NG0nICAgICAgICMgd2hpdGUgb24gbGlnaHRCbHVlCiAgcmVhZG9ubHkgX19TVUNDRVNTX0NPTE9SPSdcZVszMm0nICAgICMgR3JlZW4KICByZWFkb25seSBfX1dBUk5JTkdfQ09MT1I9J1xlWzMzbScgICAgIyBZZWxsb3cKICByZWFkb25seSBfX1RFU1RfQ09MT1I9J1xlWzEwMG0nICAgICAgIyBMaWdodCBtYWdlbnRhCiAgcmVhZG9ubHkgX19URVNUX0VSUk9SX0NPTE9SPSdcZVs0MW0nICMgd2hpdGUgb24gcmVkCiAgcmVhZG9ubHkgX19TS0lQUEVEX0NPTE9SPSdcZVszM20nICAgICMgWWVsbG93CiAgcmVhZG9ubHkgX19IRUxQX0NPTE9SPSdcZVs3OzQ5OzMzbScgICMgQmxhY2sgb24gR29sZAogIHJlYWRvbmx5IF9fREVCVUdfQ09MT1I9J1xlWzM3bScgICAgICAjIEdyZXkKICAjIEludGVybmFsOiByZXNldCBjb2xvcgogIHJlYWRvbmx5IF9fUkVTRVRfQ09MT1I9J1xlWzBtJyAjIFJlc2V0IENvbG9yCiAgIyBzaGVsbGNoZWNrIGRpc2FibGU9U0MyMTU1LFNDMjAzNAogIHJlYWRvbmx5IF9fSEVMUF9FWEFNUExFPSIkKGVjaG8gLWUgIlxlWzE7MzBtIikiCiAgIyBzaGVsbGNoZWNrIGRpc2FibGU9U0MyMTU1LFNDMjAzNAogIHJlYWRvbmx5IF9fSEVMUF9USVRMRT0iJChlY2hvIC1lICJcZVsxOzM3bSIpIgogICMgc2hlbGxjaGVjayBkaXNhYmxlPVNDMjE1NSxTQzIwMzQKICByZWFkb25seSBfX0hFTFBfTk9STUFMPSIkKGVjaG8gLWUgIlwwMzNbMG0iKSIKZWxzZQogICMgY2hlY2sgY29sb3JzIGFwcGxpY2FibGUgaHR0cHM6Ly9taXNjLmZsb2dpc29mdC5jb20vYmFzaC90aXBfY29sb3JzX2FuZF9mb3JtYXR0aW5nCiAgcmVhZG9ubHkgX19FUlJPUl9DT0xPUj0nJwogIHJlYWRvbmx5IF9fSU5GT19DT0xPUj0nJwogIHJlYWRvbmx5IF9fU1VDQ0VTU19DT0xPUj0nJwogIHJlYWRvbmx5IF9fV0FSTklOR19DT0xPUj0nJwogIHJlYWRvbmx5IF9fU0tJUFBFRF9DT0xPUj0nJwogIHJlYWRvbmx5IF9fSEVMUF9DT0xPUj0nJwogIHJlYWRvbmx5IF9fVEVTVF9DT0xPUj0nJwogIHJlYWRvbmx5IF9fVEVTVF9FUlJPUl9DT0xPUj0nJwogIHJlYWRvbmx5IF9fREVCVUdfQ09MT1I9JycKICAjIEludGVybmFsOiByZXNldCBjb2xvcgogIHJlYWRvbmx5IF9fUkVTRVRfQ09MT1I9JycKICByZWFkb25seSBfX0hFTFBfRVhBTVBMRT0nJwogIHJlYWRvbmx5IF9fSEVMUF9USVRMRT0nJwogIHJlYWRvbmx5IF9fSEVMUF9OT1JNQUw9JycKZmkKZXhwb3J0IF9fRVJST1JfQ09MT1IKZXhwb3J0IF9fSU5GT19DT0xPUgpleHBvcnQgX19TVUNDRVNTX0NPTE9SCmV4cG9ydCBfX1dBUk5JTkdfQ09MT1IKZXhwb3J0IF9fU0tJUFBFRF9DT0xPUgpleHBvcnQgX19URVNUX0NPTE9SCmV4cG9ydCBfX1RFU1RfRVJST1JfQ09MT1IKZXhwb3J0IF9fU0tJUFBFRF9DT0xPUgpleHBvcnQgX19IRUxQX0NPTE9SCmV4cG9ydCBfX0RFQlVHX0NPTE9SCmV4cG9ydCBfX1JFU0VUX0NPTE9SCmV4cG9ydCBfX0hFTFBfRVhBTVBMRQpleHBvcnQgX19IRUxQX1RJVExFCmV4cG9ydCBfX0hFTFBfTk9STUFMCgojIHNoZWxsY2hlY2sgZGlzYWJsZT1TQzIxNTQsU0MyMDE2CmZ1bmN0aW9uVG9DYWxsPSdVSTo6ZGlzcGxheUxpbmUnCiIke2Z1bmN0aW9uVG9DYWxsfSIgIiRAIgo="

Embed::extractFileFromBase64 \
  "${embed_function_EmbedUIDisplayLine}" \
  "${encoded_binary_file_EmbedUIDisplayLine}"

embedUIDisplayLine "-" 100
